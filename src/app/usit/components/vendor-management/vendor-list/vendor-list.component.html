<div class="container">
  <ul class="breadcrumb">
    <li><a href="#" routerLink="/dashboard">Home</a></li>
    <li><a href="#" routerLink="/users">Vendors</a></li>
  </ul>
  <div class="header-container mat-elevation-z1" >
    <span class="header-text">
      Vendors
    </span>
    <div class="vendor-actions">
      <button mat-icon-button class="add-user" (click)="addVendor()">
        <mat-icon class="item-icon">person_add</mat-icon>
      </button>
  
      <div class="search-vendor" >
        <!-- <mat-icon class="item-icon">person_search</mat-icon> -->
        <input matInput type="search"  class="search" placeholder="search vendor"
        (keyup)="onFilter($event)"  >
      </div>
  </div>
  </div>
  <div id="table-container" class="table-wrapper">
    <section class="vendor-table-style mat-elevation-z8">
      <table mat-table [dataSource]="dataSource"  matSort  (matSortChange)="onSort($event)">
  
        <!--- Note that these columns can be defined in any order.
              The actual rendered columns are set as a property on the row definition" -->
  
        <!-- ID Column -->
        <ng-container matColumnDef="SerialNum">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Serial Number"> # </th>
          <td mat-cell *matCellDef="let element"> {{element?.serialNum}} </td>
        </ng-container>
  
        <!-- Company Column -->
        <ng-container matColumnDef="Company">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Company"> Company</th>
          <td mat-cell *matCellDef="let element"> {{element.company}} </td>
        </ng-container>
  
        <!-- HeadQuarter Column -->
        <ng-container matColumnDef="HeadQuarter">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Head Quarter"> Head Quarter </th>
          <td mat-cell *matCellDef="let element"> {{element.headquerter}} </td>
        </ng-container>
  
        <!-- Fed-Id Column -->
         <ng-container matColumnDef="Fed-Id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Fed-Id "> Fed-Id  </th>
          <td mat-cell *matCellDef="let element"> {{element.fedid}} </td>
        </ng-container>
  
        <!-- VendorType Column -->
        <ng-container matColumnDef="VendorType">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by VendorType"> Vendor Type </th>
          <td mat-cell *matCellDef="let element"> {{element.vendortype}} </td>
        </ng-container>
  
        <!-- TierType Column -->
        <ng-container matColumnDef="TierType">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Tier Type"> Tier Type </th>
          <td mat-cell *matCellDef="let element"> {{element.tyretype}} </td>
        </ng-container>
  
        <!-- AddedBy Column -->
        <ng-container matColumnDef="AddedBy">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by AddedBy"> Added By </th>
          <td mat-cell *matCellDef="let element"> {{element.pseudoname}} </td>
        </ng-container>
  
         <!-- AddedOn Column -->
         <ng-container matColumnDef="AddedOn">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by AddedOn"> Added On </th>
          <td mat-cell *matCellDef="let element"> {{element.createddate}} </td>
        </ng-container>
  
        <!-- LastUpdated Column -->
        <ng-container matColumnDef="LastUpdated">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Last Updated"> Last Updated </th>
          <td mat-cell *matCellDef="let element"> {{element.updateddate}} </td>
        </ng-container>
  
        <!-- Status Column -->
        <!-- <ng-container matColumnDef="Status">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Status"> Status </th>
          <td mat-cell *matCellDef="let emp" [ngStyle]="{ backGroundColor: emp.status === 'Active' ? 'green' : 'accent' }" ><span><button mat-raised-button (click)="onStatusUpdate(emp)" > {{emp.status}}</button> </span></td>
        </ng-container> -->
        <ng-container matColumnDef="Status">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Status"> Status </th>
          <td mat-cell *matCellDef="let vendor">
            <span>
              <button mat-raised-button (click)="onStatusUpdate(vendor)"
                [ngStyle]="{ color: 'white' }"
                [ngClass]="['Active', 'Approved'].includes(vendor.status) ? 'mat-primary' : 'mat-warn'">
                {{ vendor.status }}
              </button>
            </span>
          </td>
        </ng-container>
  
        <!-- Action Column -->
        <ng-container matColumnDef="Action">
          <th mat-header-cell *matHeaderCellDef> Action </th>
          <td mat-cell *matCellDef="let vendor"class="action-buttons">
            <button mat-icon-button (click)="editVendor(vendor)" class="action-button-ed">
              <mat-icon>edit</mat-icon>
            </button>
  
            <button mat-icon-button (click)="deleteVendor(vendor)" class="action-button-ed">
              <mat-icon>delete</mat-icon>
            </button>
          </td>
        </ng-container>
  
        <!-- Approve/Reject Column -->
        <ng-container matColumnDef="Approve/Reject">
          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Approve/Reject"> Approve/Reject </th>
          <td mat-cell *matCellDef="let vendor">
            <span>
              <button *ngIf="['Approved', 'Initiated'].includes(vendor.vms_stat)" mat-raised-button (click)="onApproveOrRejectVMS(vendor)"
                [ngStyle]="{ color: 'white' }"
                [ngClass]="['Approved', 'Initiated'].includes(vendor.vms_stat) ? 'mat-primary' : 'mat-warn'">
                {{vendor.vms_stat}}
              </button>
            </span>
            <span>
              <button *ngIf="vendor.vms_stat === 'Reject'" mat-raised-button (click)="onApproveOrRejectVMS(vendor)"
              [ngStyle]="{ color: 'white' }"
              [ngClass]="'mat-warn'">
              {{vendor.vms_stat}}
            </button>
          </span>
        </td>
        </ng-container>
  
        <!-- table columns ends  -->
  
        <!-- table ROW -->
        <tr mat-header-row *matHeaderRowDef="dataTableColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: dataTableColumns;"></tr>
      </table>
      <p class="no-data-found" *ngIf="!dataSource.filteredData.length">{{'No matching data found'}}</p>
    </section>
      <hr>
      <!-- paginator -->
      <mat-paginator #paginator
              [length]="dataSource.data.length"
              (page)="handlePageEvent($event)"
              [length]="length"
              [pageSize]="pageSize"
              [disabled]="false"
              [showFirstLastButtons]="showFirstLastButtons"
              [pageSizeOptions]="showPageSizeOptions ? pageSizeOptions : []"
              [hidePageSize]="hidePageSize"
              [pageIndex]="pageIndex"
              aria-label="Select page">
      </mat-paginator>
  
  </div>
  
</div>